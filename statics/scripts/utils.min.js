var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(c.get||c.set)throw new TypeError("ES3 does not support getters and setters.");a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var f=a[d];f in c||(c[f]={});c=c[f]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};
$jscomp.polyfill("Array.from",function(a){return a?a:function(a,c,d){$jscomp.initSymbolIterator();c=null!=c?c:function(a){return a};var b=[],e=a[Symbol.iterator];if("function"==typeof e)for(a=e.call(a);!(e=a.next()).done;)b.push(c.call(d,e.value));else for(var e=a.length,g=0;g<e;g++)b.push(c.call(d,a[g]));return b}},"es6-impl","es3");
var nl2br=function(a){return a.replace(/([^>])\n/g,"$1<br/>\n")},$=function(a,b){return b?b.querySelector(a):document.querySelector(a)},$$=function(a,b){return b?b.querySelectorAll(a):document.querySelectorAll(a)},parseConfig=function(a){if(a=a.getAttribute("data-config"))try{var b=a.split(":")[0],c=a.split(":")[1];return["(",",",")"].map(function(a){return-1<c.indexOf(a)}).reduce(function(a,b){return a&&b})?{name:b,type:c.match(/(.+)\(/)[1],lowerBound:Number(c.match(/\d+/g)[0]),upperBound:Number(c.match(/\d+/g)[1])}:
{name:b,type:c}}catch(d){return{type:a}}},validate=function(a){var b=parseConfig(a);if(b){if("choice"===b.type)return a=$$(".button[data-selected=true]",a),a.length>=b.lowerBound&&a.length<=b.upperBound?null:"\u52fe\u9078\u9078\u9805\u6578\u76ee\u4e0d\u7b26\u5408\u984c\u76ee\u8981\u6c42\uff0c\u6700\u591a\u9078 "+b.upperBound+" \u500b\uff0c\u6700\u5c11\u9078 "+b.lowerBound+" \u500b";if("level"===b.type)return 1===$$(".button[data-selected=true]",a).length?null:"\u53ea\u80fd\u9078 1 \u500b";if("list"===
b.type)return null;if("rank"===b.type){var c=Array.from($$("input",a)),d=null;c.forEach(function(a){a.value||(d="\u6709\u672a\u586b\u6b04\u4f4d");1<c.filter(function(b){return a.value===b.value}).length&&(d="\u6392\u540d\u91cd\u8907")});return d}return null}},parseFilled=function(a){var b=parseConfig(a);if(b)return"choice"===b.type?(a=Array.from($$(".button[data-selected=true]",a)),1===b.upperBound?a.map(function(a){return a.getAttribute("data-code")})[0]:a.map(function(a){return a.getAttribute("data-code")})):
"level"===b.type?$(".button[data-selected=true]",a).getAttribute("data-code"):"list"===b.type?$("select",a).value:"rank"===b.type?(b=Array.from($$("input",a)).map(function(a){return{rank:Number(a.value),code:a.getAttribute("data-code")}}),b=b.sort(function(a,b){return a.rank<b.rank?-1:a.rank>b.rank?1:0}),b.map(function(a){return a.code})):null},getButton=function(a){return-1<a.className.indexOf("button")?a:-1<a.parentNode.className.indexOf("button")?a.parentNode:-1<a.parentNode.parentNode.className.indexOf("button")?
a.parentNode.parentNode:null};
